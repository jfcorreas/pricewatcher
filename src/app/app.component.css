.flex
{
   /* basic styling */
   width: 350px;
   height: 200px;
   border: 1px solid #555;
   font: 14px Arial;

   /* flexbox setup */
   display: -webkit-flex;
   -webkit-flex-direction: row;

   display: flex;
   flex-direction: row;
}

.flex > div
{
   -webkit-flex: 1 1 auto;
   flex: 1 1 auto;

   width: 30px; /* To make the transition work nicely.  (Transitions to/from
                   "width:auto" are buggy in Gecko and Webkit, at least.
                   See http://bugzil.la/731886 for more info.) */

   -webkit-transition: width 0.7s ease-out;
   transition: width 0.7s ease-out;
}

/* colors */
.flex > div:nth-child(1){ background : #009246; }
.flex > div:nth-child(2){ background : #F1F2F1; }
.flex > div:nth-child(3){ background : #CE2B37; }

.flex > div:hover
{
     width: 200px;
}

#main {
 min-height: 800px;
 margin: 0px;
 padding: 0px;
 display: -webkit-flex;
 display:         flex;
 -webkit-flex-flow: row;
         flex-flow: row;
 }

#main > article {
 margin: 4px;
 padding: 5px;
 border: 1px solid #cccc33;
 border-radius: 7pt;
 background: #dddd88;
 -webkit-flex: 3 1 60%;
         flex: 3 1 60%;
 -webkit-order: 2;
         order: 2;
 }

#main > nav {
 margin: 4px;
 padding: 5px;
 border: 1px solid #8888bb;
 border-radius: 7pt;
 background: #ccccff;
 -webkit-flex: 1 6 20%;
         flex: 1 6 20%;
 -webkit-order: 1;
         order: 1;
 }

#main > aside {
 margin: 4px;
 padding: 5px;
 border: 1px solid #8888bb;
 border-radius: 7pt;
 background: #ccccff;
 -webkit-flex: 1 6 20%;
         flex: 1 6 20%;
 -webkit-order: 3;
         order: 3;
 }

header, footer {
 display: block;
 margin: 4px;
 padding: 5px;
 min-height: 100px;
 border: 1px solid #eebb55;
 border-radius: 7pt;
 background: #ffeebb;
 }

/* Too narrow to support three columns */
@media all and (max-width: 640px) {

 #main, #page {
  -webkit-flex-flow: column;
          flex-flow: column;
 }

 #main > article, #main > nav, #main > aside {
  /* Return them to document order */
  -webkit-order: 0;
          order: 0;
 }

 #main > nav, #main > aside, header, footer {
  min-height: 50px;
  max-height: 50px;
 }
}
